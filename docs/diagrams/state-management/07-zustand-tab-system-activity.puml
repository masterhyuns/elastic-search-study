/'
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Zustand Tab System - Activity Diagram (ì•¡í‹°ë¹„í‹° ë‹¤ì´ì–´ê·¸ë¨)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ê°œìš”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Zustand íƒ­ ì‹œìŠ¤í…œì˜ í”„ë¡œì„¸ìŠ¤ íë¦„ê³¼ ì¡°ê±´ ë¶„ê¸°ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì‹œê°í™”í•©ë‹ˆë‹¤.

ğŸ¯ ì£¼ìš” í”„ë¡œì„¸ìŠ¤
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. íƒ­ ì¶”ê°€ (ì¤‘ë³µ ì²´í¬, ìµœëŒ€ ê°œìˆ˜ ì œí•œ)
2. íƒ­ ë‹«ê¸° (í™œì„± íƒ­ ìë™ ì „í™˜)
3. íƒ­ ì „í™˜
4. íƒ­ ë³µì› (Persistence)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
'/

@startuml zustand-tab-system-activity-open-tab
title Zustand Tab System - íƒ­ ì¶”ê°€ í”„ë¡œì„¸ìŠ¤ (Activity)

start

:ì‚¬ìš©ìê°€ openTab í˜¸ì¶œ;
:config ìˆ˜ì‹  (key, title, component, params);

partition "ì¤‘ë³µ ì²´í¬" {
  :tabs ë°°ì—´ì—ì„œ ë™ì¼ key ê²€ìƒ‰;

  if (ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íƒ­?) then (yes)
    :ê¸°ì¡´ íƒ­ í™œì„±í™”;
    :activeTab(config.key);
    stop
  else (no)
    :ìƒˆ íƒ­ ì¶”ê°€ ì§„í–‰;
  endif
}

partition "ìµœëŒ€ ê°œìˆ˜ ì²´í¬" {
  if (tabs.length >= maxTabs?) then (yes)
    :ê°€ì¥ ì˜¤ë˜ëœ íƒ­ ì°¾ê¸°;
    :tabHistory[0] í™•ì¸;
    :ì˜¤ë˜ëœ íƒ­ ì œê±°;
    :removeTab(oldestKey);
  else (no)
    :ê·¸ëŒ€ë¡œ ì§„í–‰;
  endif
}

partition "íƒ­ ìƒì„±" {
  :children ìƒì„±;
  note right
    children <- <config.component {...config.params} />
  end note

  :Tab ê°ì²´ ìƒì„±;
  note right
    {
      key: config.key,
      title: config.title,
      description: config.description,
      children: children,
      params: config.params
    }
  end note
}

partition "Store ì—…ë°ì´íŠ¸" {
  :tabStore.addTab(tab);
  :tabs ë°°ì—´ì— ì¶”ê°€;
  :tabStore.activeTab(key);
  :activeTabKey ë³€ê²½;
}

partition "íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸" {
  :tabHistoryì— key ì¶”ê°€;
  note right: LRU ìºì‹œ ê´€ë¦¬
}

:Layout ë¦¬ë Œë”ë§;
:ìƒˆ íƒ­ í‘œì‹œ;

stop

@enduml

@startuml zustand-tab-system-activity-close-tab
title Zustand Tab System - íƒ­ ë‹«ê¸° í”„ë¡œì„¸ìŠ¤ (Activity)

start

:ì‚¬ìš©ìê°€ closeTab í˜¸ì¶œ;
:ë‹«ì„ íƒ­ì˜ key ìˆ˜ì‹ ;

partition "ì €ì¥ í™•ì¸" {
  :hasUnsavedChanges ì²´í¬;

  if (ì €ì¥ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­?) then (yes)
    :í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ;
    note right
      "ì €ì¥ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.
       ë‹«ìœ¼ì‹œê² ìŠµë‹ˆê¹Œ?"
    end note

    if (ì‚¬ìš©ì í™•ì¸?) then (yes)
      :íƒ­ ë‹«ê¸° ì§„í–‰;
    else (no)
      stop
    endif
  else (no)
    :íƒ­ ë‹«ê¸° ì§„í–‰;
  endif
}

partition "íƒ­ ì œê±°" {
  :tabStore.removeTab(key);
  :tabs ë°°ì—´ì—ì„œ í•„í„°ë§;
  note right
    tabs.filter(t -> t.key !== key)
  end note
}

partition "í™œì„± íƒ­ ì²˜ë¦¬" {
  if (ë‹«ì€ íƒ­ì´ í™œì„± íƒ­?) then (yes)
    :ë‚¨ì€ íƒ­ í™•ì¸;

    if (ë‚¨ì€ íƒ­ ìˆìŒ?) then (yes)
      :remaining <- tabs.filter(t -> t.key !== key);

      if (tabHistory ì‚¬ìš©?) then (yes)
        :íˆìŠ¤í† ë¦¬ì—ì„œ ìµœê·¼ íƒ­ ì°¾ê¸°;
        :lastVisitedKey ê°€ì ¸ì˜¤ê¸°;
        :activeTab(lastVisitedKey);
      else (no)
        :remaining[0] í™œì„±í™”;
        :activeTab(remaining[0].key);
      endif

    else (no - ëª¨ë“  íƒ­ ë‹«í˜)
      :activeTab(null);
      :"íƒ­ ì—†ìŒ" í™”ë©´ í‘œì‹œ;
    endif

  else (no - ë¹„í™œì„± íƒ­)
    :activeTabKey ìœ ì§€;
  endif
}

partition "íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸" {
  :tabHistoryì—ì„œ key ì œê±°;
}

:Layout ë¦¬ë Œë”ë§;

stop

@enduml

@startuml zustand-tab-system-activity-persistence
title Zustand Tab System - íƒ­ ë³µì› í”„ë¡œì„¸ìŠ¤ (Activity)

|LocalStorage|
start

:í˜ì´ì§€ ë¡œë“œ;

|tabStore|
:Zustand Store ì´ˆê¸°í™”;

|Middleware|
:Persistence ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰;

|LocalStorage|
:ì €ì¥ëœ íƒ­ ì •ë³´ ì½ê¸°;
note right
  key: "page-tabs"
  value: {
    tabs: [
      { key: "user-list", title: "...", params: {...} },
      { key: "user-detail-123", title: "...", params: {...} }
    ],
    activeTabKey: "user-detail-123"
  }
end note

if (ì €ì¥ëœ ë°ì´í„° ì¡´ì¬?) then (yes)
  |Middleware|
  :JSON.parse(savedData);

  partition "íƒ­ ë³µì›" {
    :ê° íƒ­ì— ëŒ€í•´ ë°˜ë³µ;

    repeat
      :key, title, params ì½ê¸°;

      :component ë§¤í•‘;
      note right
        íƒ­ íƒ€ì…ë³„ component ë§µí•‘
        "user-list" -> UserList
        "user-detail-*" -> UserDetail
      end note

      if (component ì°¾ìŒ?) then (yes)
        :children ì¬ìƒì„±;
        note right
          <Component {...params} />
        end note

        :Tab ê°ì²´ ìƒì„±;

        |tabStore|
        :addTab(restoredTab);

      else (no - component ì—†ìŒ)
        :í•´ë‹¹ íƒ­ ìŠ¤í‚µ;
        note right: ì‚­ì œë˜ê±°ë‚˜ ê¶Œí•œ ì—†ëŠ” í˜ì´ì§€
      endif

    repeat while (ë” ë³µì›í•  íƒ­?) is (yes)
    -> no;
  }

  |tabStore|
  :activeTabKey ì„¤ì •;

else (no - ì²« ë°©ë¬¸)
  |tabStore|
  :ê¸°ë³¸ ìƒíƒœ ìœ ì§€;
  note right
    tabs: []
    activeTabKey: null
  end note
endif

|React|
:PageTabLayout ë Œë”ë§;

:ë³µì›ëœ íƒ­ í‘œì‹œ;

stop

note bottom
  **Persistence ì œì•½ì‚¬í•­**

  ì €ì¥ ê°€ëŠ¥:
  - key, title, description
  - params (ì§ë ¬í™” ê°€ëŠ¥í•œ ë°ì´í„°)

  ì €ì¥ ë¶ˆê°€:
  - children (React.ReactNode)
  - component (í•¨ìˆ˜)

  â†’ ë³µì› ì‹œ component ì¬ìƒì„± í•„ìš”
end note

@enduml

@startuml zustand-tab-system-activity-max-tabs
title Zustand Tab System - ìµœëŒ€ íƒ­ ê°œìˆ˜ ì œí•œ (Activity)

start

:openTab í˜¸ì¶œ;

partition "ê°œìˆ˜ ì²´í¬" {
  :í˜„ì¬ íƒ­ ê°œìˆ˜ í™•ì¸;
  :maxTabs ì„¤ì •ê°’ í™•ì¸;

  if (tabs.length >= maxTabs?) then (yes)
    :LRU ì „ëµ ì ìš©;

    partition "ê°€ì¥ ì˜¤ë˜ëœ íƒ­ ì°¾ê¸°" {
      if (tabHistory ì‚¬ìš©?) then (yes)
        :oldestKey <- tabHistory[0];
        note right: ê°€ì¥ ë¨¼ì € ì—´ë¦° íƒ­
      else (no)
        :oldestKey <- tabs[0].key;
        note right: ë°°ì—´ì˜ ì²« ë²ˆì§¸ íƒ­
      endif
    }

    partition "ê²½ê³  í‘œì‹œ" {
      :ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼;
      note right
        Toast ë©”ì‹œì§€:
        "ìµœëŒ€ 10ê°œ íƒ­ë§Œ ì—´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         ê°€ì¥ ì˜¤ë˜ëœ íƒ­ì„ ë‹«ìŠµë‹ˆë‹¤."
      end note
    }

    :closeTab(oldestKey);

  else (no)
    :ê·¸ëŒ€ë¡œ ì§„í–‰;
  endif
}

:ìƒˆ íƒ­ ì¶”ê°€;

stop

@enduml

@startuml zustand-tab-system-activity-switch-tab
title Zustand Tab System - íƒ­ ì „í™˜ í”„ë¡œì„¸ìŠ¤ (Activity)

|User|
start

:íƒ­ í—¤ë” í´ë¦­;

|TabHeader|
:onClick ì´ë²¤íŠ¸ ë°œìƒ;

|usePageTab|
:switchTab(key) í˜¸ì¶œ;

partition "ìœ íš¨ì„± ê²€ì‚¬" {
  if (keyê°€ null?) then (yes)
    stop
  else (no)
    :ê³„ì†;
  endif

  :tabsì—ì„œ key ê²€ìƒ‰;

  if (íƒ­ì´ ì¡´ì¬?) then (yes)
    :ì „í™˜ ì§„í–‰;
  else (no)
    :ì—ëŸ¬ ë¡œê·¸;
    note right: console.error("íƒ­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
    stop
  endif
}

|tabStore|
:activeTab(key) í˜¸ì¶œ;

:set({ activeTabKey: key });

partition "íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸" {
  :tabHistoryì— key ì¶”ê°€;
  note right
    ìµœê·¼ ë°©ë¬¸í•œ íƒ­ ìˆœì„œ ê¸°ë¡
    [key, previousKey, ...]
  end note

  if (íˆìŠ¤í† ë¦¬ ê¸¸ì´ > 10?) then (yes)
    :ì˜¤ë˜ëœ ê¸°ë¡ ì œê±°;
    :tabHistory.slice(0, 10);
  else (no)
    :ìœ ì§€;
  endif
}

|PageTabLayout|
:ë¦¬ë Œë”ë§;

partition "UI ì—…ë°ì´íŠ¸" {
  fork
    :ì´ì „ íƒ­ í—¤ë”\në¹„í™œì„± ìŠ¤íƒ€ì¼ ì ìš©;
  fork again
    :ìƒˆ íƒ­ í—¤ë”\ní™œì„± ìŠ¤íƒ€ì¼ ì ìš©;
  fork again
    :TabContent\nìƒˆ children ë Œë”ë§;
  end fork
}

|User|
:ìƒˆ íƒ­ ì»¨í…ì¸  í‘œì‹œ;

stop

@enduml

@startuml zustand-tab-system-activity-error-handling
title Zustand Tab System - ì—ëŸ¬ ì²˜ë¦¬ (Activity)

start

:openTab í˜¸ì¶œ;

partition "íƒ€ì… ê²€ì¦" {
  if (config.key ì¡´ì¬?) then (no)
    :ì—ëŸ¬ ë°œìƒ;
    note right: "keyëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤"
    stop
  else (yes)
    :ê³„ì†;
  endif

  if (config.component ì¡´ì¬?) then (no)
    :ì—ëŸ¬ ë°œìƒ;
    note right: "componentëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤"
    stop
  else (yes)
    :ê³„ì†;
  endif
}

partition "Component ë Œë”ë§" {
  :children ìƒì„± ì‹œë„;

  if (ë Œë”ë§ ì—ëŸ¬?) then (yes)
    :ì—ëŸ¬ ê²½ê³„ë¡œ ìºì¹˜;

    :Fallback UI í‘œì‹œ;
    note right
      <ErrorBoundary fallback={<TabError />}>
        {children}
      </ErrorBoundary>
    end note

    :ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡;

    if (ê³„ì† ì§„í–‰?) then (yes)
      :íƒ­ ì¶”ê°€ (Fallback UIë¡œ);
    else (no)
      :íƒ­ ì¶”ê°€ ì¤‘ë‹¨;
      stop
    endif

  else (no)
    :ì •ìƒ ì§„í–‰;
  endif
}

partition "ê¶Œí•œ ê²€ì¦" {
  if (ì‚¬ìš©ì ê¶Œí•œ ì²´í¬?) then (no)
    :ê¶Œí•œ ì—†ìŒ ë©”ì‹œì§€;
    note right: "ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤"

    :íƒ­ ì¶”ê°€ ì¤‘ë‹¨;
    stop
  else (yes)
    :íƒ­ ì¶”ê°€ ì§„í–‰;
  endif
}

:íƒ­ ì •ìƒ ì¶”ê°€;

stop

@enduml

/'
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“š Activity Diagram ì‚¬ìš© ê°€ì´ë“œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## í•µì‹¬ í”„ë¡œì„¸ìŠ¤ ë¶„ì„

### 1. íƒ­ ì¶”ê°€ í”„ë¡œì„¸ìŠ¤ (openTab)

ë‹¨ê³„ë³„ ì²´í¬:
  1. ì¤‘ë³µ ì²´í¬ (ì´ë¯¸ ì¡´ì¬í•˜ë©´ í™œì„±í™”ë§Œ)
  2. ìµœëŒ€ ê°œìˆ˜ ì²´í¬ (ì´ˆê³¼ ì‹œ LRU ì œê±°)
  3. children ìƒì„± (Component + params)
  4. Store ì—…ë°ì´íŠ¸ (addTab + activeTab)
  5. íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸ (ë°©ë¬¸ ê¸°ë¡)

ì¤‘ë³µ ì²´í¬ ë¡œì§:
  const exists <- tabs.find(t -> t.key is config.key)

  if (exists) then
    // ì´ë¯¸ ì¡´ì¬ â†’ í™œì„±í™”ë§Œ
    return activeTab(config.key)
  else
    // ìƒˆ íƒ­ ì¶”ê°€
    proceed()
  end if

ìµœëŒ€ ê°œìˆ˜ ì œí•œ:
  if (tabs.length >= maxTabs) then
    // LRU: Least Recently Used
    const oldestKey <- tabHistory[0]
    closeTab(oldestKey)
  end if

### 2. íƒ­ ë‹«ê¸° í”„ë¡œì„¸ìŠ¤ (closeTab)

ë‹¨ê³„ë³„ ì²´í¬:
  1. ì €ì¥ í™•ì¸ (hasUnsavedChanges)
  2. íƒ­ ì œê±° (removeTab)
  3. í™œì„± íƒ­ ì²˜ë¦¬ (ìë™ ì „í™˜)
  4. íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸

ì €ì¥ í™•ì¸ ë¡œì§:
  if (tab.hasUnsavedChanges) then
    const confirmed <- await showConfirmDialog(
      "ì €ì¥ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤. ë‹«ìœ¼ì‹œê² ìŠµë‹ˆê¹Œ?"
    )

    if (!confirmed) then
      return // ì·¨ì†Œ
    end if
  end if

í™œì„± íƒ­ ìë™ ì „í™˜:
  if (closedKey is activeTabKey) then
    const remaining <- tabs.filter(t -> t.key !== closedKey)

    if (remaining.length > 0) then
      // íˆìŠ¤í† ë¦¬ ê¸°ë°˜ ì „í™˜ (ì¶”ì²œ)
      const lastVisitedKey <- findLastVisited(tabHistory, remaining)
      activeTab(lastVisitedKey)
    else
      // ëª¨ë“  íƒ­ ë‹«í˜
      activeTab(null)
    end if
  end if

### 3. íƒ­ ë³µì› í”„ë¡œì„¸ìŠ¤ (Persistence)

ì €ì¥ ì‹œì :
  - Store ìƒíƒœ ë³€ê²½ ì‹œë§ˆë‹¤ ìë™ ì €ì¥
  - tabs, activeTabKeyë¥¼ localStorageì— ì €ì¥

ì €ì¥ í˜•ì‹:
  {
    tabs: [
      {
        key: "user-detail-123",
        title: "ì‚¬ìš©ì ìƒì„¸",
        params: { id: "123", mode: "view" }
        // childrenëŠ” ì €ì¥ ì•ˆ ë¨ (ì§ë ¬í™” ë¶ˆê°€)
      }
    ],
    activeTabKey: "user-detail-123"
  }

ë³µì› í”„ë¡œì„¸ìŠ¤:
  1. localStorageì—ì„œ ë°ì´í„° ì½ê¸°
  2. ê° íƒ­ì˜ keyë¡œ component ë§¤í•‘ ì°¾ê¸°
  3. children ì¬ìƒì„± (<Component {...params} />)
  4. Storeì— ë³µì›ëœ íƒ­ ì¶”ê°€
  5. activeTabKey ì„¤ì •

Component ë§¤í•‘ ì „ëµ:
  const TAB_COMPONENTS = {
    "user-list": UserList,
    "user-detail": UserDetail,
    "product-list": ProductList
  }

  const getComponent = function(key) {
    // keyì—ì„œ íƒ€ì… ì¶”ì¶œ
    const type <- key.split("-")[0] + "-" + key.split("-")[1]
    // "user-detail-123" -> "user-detail"

    return TAB_COMPONENTS[type]
  }

ì£¼ì˜ì‚¬í•­:
  - children (React.ReactNode)ëŠ” ì§ë ¬í™” ë¶ˆê°€
  - component (í•¨ìˆ˜)ë„ ì €ì¥ ë¶ˆê°€
  - paramsë§Œ ì €ì¥í•˜ê³  ë³µì› ì‹œ ì¬ìƒì„±
  - ì‚­ì œëœ í˜ì´ì§€ëŠ” ë³µì› ìŠ¤í‚µ

### 4. ìµœëŒ€ íƒ­ ê°œìˆ˜ ì œí•œ (LRU)

LRU (Least Recently Used) ì „ëµ:
  - tabHistory ë°°ì—´ë¡œ ë°©ë¬¸ ìˆœì„œ ê¸°ë¡
  - ê°€ì¥ ì˜¤ë˜ëœ íƒ­ = tabHistory[0]
  - ìƒˆ íƒ­ ì—´ ë•Œ ê°€ì¥ ì˜¤ë˜ëœ íƒ­ ë‹«ê¸°

êµ¬í˜„:
  const tabHistory <- ["tab-3", "tab-1", "tab-2"]
  // tab-3: ê°€ì¥ ì˜¤ë˜ ì „ì— ë°©ë¬¸
  // tab-2: ìµœê·¼ì— ë°©ë¬¸

  if (tabs.length >= maxTabs) then
    const oldestKey <- tabHistory[0] // "tab-3"
    closeTab(oldestKey)
  end if

  // ìƒˆ íƒ­ ì¶”ê°€
  addTab(newTab)
  tabHistory.push(newTab.key)

íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸:
  const updateHistory = function(key) {
    // ê¸°ì¡´ ìœ„ì¹˜ì—ì„œ ì œê±°
    tabHistory <- tabHistory.filter(k -> k !== key)

    // ë§¨ ë’¤ì— ì¶”ê°€ (ìµœê·¼ ë°©ë¬¸)
    tabHistory.push(key)

    // ìµœëŒ€ ê¸¸ì´ ì œí•œ
    if (tabHistory.length > 20) then
      tabHistory <- tabHistory.slice(-20)
    end if
  }

### 5. ì—ëŸ¬ ì²˜ë¦¬

íƒ€ì… ê²€ì¦:
  if (!config.key || !config.component) then
    throw new Error("keyì™€ componentëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
  end if

ë Œë”ë§ ì—ëŸ¬:
  <ErrorBoundary fallback={<TabError />}>
    {children}
  </ErrorBoundary>

ê¶Œí•œ ê²€ì¦:
  const canAccessTab = function(key) {
    const tabConfig <- TAB_CONFIGS[key]

    if (!tabConfig) then
      return false
    end if

    if (tabConfig.requiresAuth && !user) then
      return false
    end if

    if (tabConfig.roles && !hasRole(user, tabConfig.roles)) then
      return false
    end if

    return true
  }

## ì‹¤ì „ ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ì‚¬ìš©ì ìƒì„¸ í˜ì´ì§€ ì—´ê¸°

openTab({
  key: generateTabKey("user-detail", userId), // "user-detail-123"
  title: userName + " ìƒì„¸",                   // "í™ê¸¸ë™ ìƒì„¸"
  description: "ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ",
  component: UserDetail,
  params: { id: userId, mode: "view" }
})

í”„ë¡œì„¸ìŠ¤:
  1. ì¤‘ë³µ ì²´í¬: "user-detail-123" ì´ë¯¸ ì—´ë ¤ìˆëŠ”ì§€
  2. ì—†ìœ¼ë©´ ìƒˆ íƒ­ ì¶”ê°€
  3. ìˆìœ¼ë©´ í™œì„±í™”ë§Œ
  4. íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸
  5. ë Œë”ë§

### ì˜ˆì‹œ 2: í¸ì§‘ ëª¨ë“œë¡œ ì „í™˜

updateTabParams("user-detail-123", {
  mode: "edit"
})

í”„ë¡œì„¸ìŠ¤:
  1. tabsì—ì„œ "user-detail-123" ì°¾ê¸°
  2. params ì—…ë°ì´íŠ¸ (mode: "edit")
  3. UserDetail ì»´í¬ë„ŒíŠ¸ì— ìƒˆ params ì „ë‹¬
  4. useEffect([params])ë¡œ ì¬ë¡œë”©

### ì˜ˆì‹œ 3: íƒ­ ë‹«ê¸° (ì €ì¥ í™•ì¸)

closeTab("user-detail-123")

í”„ë¡œì„¸ìŠ¤:
  1. hasUnsavedChanges ì²´í¬
  2. ì €ì¥ ì•ˆ ëœ ë³€ê²½ì‚¬í•­ ìˆìœ¼ë©´ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
  3. ì‚¬ìš©ì í™•ì¸ ì‹œ íƒ­ ì œê±°
  4. í™œì„± íƒ­ì´ë©´ ìë™ ì „í™˜
  5. íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
'/
