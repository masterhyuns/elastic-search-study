/'
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Master-Detail Pattern - Class Diagram (í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ê°œìš”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°(Props/State)ì™€ ê´€ê³„(ì˜ì¡´ì„±, ì†Œìœ )ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
"ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì§€ëŠ”ê°€?"ë¥¼ ì´í•´í•˜ê¸° ê°€ì¥ ì¢‹ì€ ë‹¤ì´ì–´ê·¸ë¨ì…ë‹ˆë‹¤.

ğŸ¯ ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ê°€?
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… ì»´í¬ë„ŒíŠ¸ì˜ Props/State êµ¬ì¡°
âœ… íƒ€ì… ì •ì˜ (TypeScript interface)
âœ… ë©”ì„œë“œ/í•¨ìˆ˜ ëª©ë¡
âœ… ìƒì†/í•©ì„± ê´€ê³„
âœ… ì»´í¬ë„ŒíŠ¸ ê°„ ì˜ì¡´ì„±

ì¥ì :
- ì •ì  êµ¬ì¡°ë¥¼ í•œëˆˆì— íŒŒì•…
- TypeScript ì½”ë“œë¡œ ë°”ë¡œ ì „í™˜ ê°€ëŠ¥
- ê´€ê³„(ìƒì†, ì˜ì¡´ì„±) ëª…í™•íˆ í‘œí˜„

ë‹¨ì :
- ì‹œê°„ íë¦„ í‘œí˜„ ë¶ˆê°€
- ì‹¤í–‰ ìˆœì„œ ì•Œê¸° ì–´ë ¤ì›€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
'/

@startuml master-detail-class-basic
title Master-Detail Pattern - ê¸°ë³¸ êµ¬ì¡° (Class)

skinparam class {
  BorderColor Black
  ArrowColor Black
}

top to bottom direction

class "index.tsx" as Index <<container>> {
  **State**
  ----
  - list: Item[]
  - target: Item | null
  - isLoading: boolean
  - error: Error | null
  ====
  **Methods**
  ----
  + handleChangeTarget(item: Item): void
  + fetchList(): Promise<void>
  ====
  **Effects**
  ----
  + useEffect([], fetchList)
  ====
  **JSX**
  ----
  <Summary list={list} onChangeTarget={...} />
  <Detail target={target} />
}

class "a` Component" as Summary <<presentation>> {
  **Props**
  ----
  - list: Item[]
  - selectedId?: string
  - onChangeTarget: (item: Item) -> void
  ====
  **ë¡œì»¬ State**
  ----
  (ì—†ìŒ - Stateless Component)
  ====
  **UI ë¡œì§**
  ----
  + ëª©ë¡ ë Œë”ë§
  + í™œì„± í•­ëª© ì‹œê°ì  í‘œì‹œ
  + í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
  ====
  **ë Œë”ë§ ì¡°ê±´**
  ----
  - list.length is 0 â†’ "ë°ì´í„° ì—†ìŒ"
  - list.length > 0 â†’ ëª©ë¡ í‘œì‹œ
}

class "b` Component" as Detail <<presentation>> {
  **Props**
  ----
  - target: Item | null
  ====
  **ë¡œì»¬ State**
  ----
  - detailData: DetailData | null
  - isLoadingDetail: boolean
  - detailError: Error | null
  ====
  **Methods**
  ----
  + fetchDetail(itemId: string): Promise<void>
  ====
  **Effects**
  ----
  + useEffect([target], fetchDetail)
  ====
  **ë Œë”ë§ ì¡°ê±´**
  ----
  - target is null â†’ "ì„ íƒëœ í•­ëª© ì—†ìŒ"
  - isLoadingDetail â†’ ë¡œë”© ìŠ¤í”¼ë„ˆ
  - detailError â†’ ì—ëŸ¬ ë©”ì‹œì§€
  - detailData â†’ ìƒì„¸ ì •ë³´ í‘œì‹œ
}

Index "1" *-- "1" Summary : ë Œë”ë§ â–¼\nprops: list, onChangeTarget
Index "1" *-- "1" Detail : ë Œë”ë§ â–¼\nprops: target

Summary ..> Index : â–² ì½œë°± í˜¸ì¶œ\nonChangeTarget(item)

note right of Index
  **Single Source of Truth**

  target ìƒíƒœë¥¼ index.tsxì—ì„œë§Œ ê´€ë¦¬
  â†’ í˜•ì œ ì»´í¬ë„ŒíŠ¸(a`, b`) ê°„ í†µì‹  ê°€ëŠ¥
  â†’ ë°ì´í„° ì¼ê´€ì„± ë³´ì¥
end note

note right of Summary
  **Controlled Component**

  ìì²´ ìƒíƒœ ì—†ìŒ
  ë¶€ëª¨ê°€ ì „ë‹¬í•œ propsë§Œ ë Œë”ë§
  ì‚¬ìš©ì ì…ë ¥ â†’ ì½œë°±ìœ¼ë¡œ ë¶€ëª¨ì—ê²Œ ì „ë‹¬
end note

note right of Detail
  **Reactive Component**

  target props ë³€ê²½ ê°ì§€ (useEffect)
  â†’ ìë™ìœ¼ë¡œ ìƒì„¸ ì •ë³´ ì¬ì¡°íšŒ
  â†’ ë…ë¦½ì ì¸ ë¡œë”© ìƒíƒœ ê´€ë¦¬
end note

@enduml

@startuml master-detail-class-types
title Master-Detail Pattern - íƒ€ì… ì •ì˜ (Class)

skinparam class {
  BorderColor Black
  ArrowColor Black
}

interface Item {
  + id: string
  + title: string
  + summary: string
  + createdAt: string
  + updatedAt: string
}

interface DetailData {
  + id: string
  + title: string
  + content: string
  + author: string
  + tags: string[]
  + metadata: Record<string, any>
  + createdAt: string
  + updatedAt: string
}

interface SummaryProps {
  + list: Item[]
  + selectedId?: string
  + onChangeTarget: (item: Item) -> void
}

interface DetailProps {
  + target: Item | null
}

interface IndexState {
  + list: Item[]
  + target: Item | null
  + isLoading: boolean
  + error: Error | null
}

class "a` Component" as Summary {
  + props: SummaryProps
}

class "b` Component" as Detail {
  + props: DetailProps
  - detailData: DetailData | null
}

class "index.tsx" as Index {
  - state: IndexState
}

Summary --> SummaryProps : uses
Detail --> DetailProps : uses
Index --> IndexState : manages

SummaryProps --> Item : list: Item[]
DetailProps --> Item : target: Item | null
IndexState --> Item : list, target

Detail ..> DetailData : fetches

note right of Item
  **ê¸°ë³¸ í•­ëª© íƒ€ì…**

  Summaryì—ì„œ ë Œë”ë§í•˜ëŠ” ë°ì´í„°
  - id: ê³ ìœ  ì‹ë³„ì
  - title: ì œëª©
  - summary: ìš”ì•½ (ëª©ë¡ì— í‘œì‹œ)
end note

note right of DetailData
  **ìƒì„¸ ì •ë³´ íƒ€ì…**

  Detailì—ì„œ APIë¡œ ì¡°íšŒí•˜ëŠ” ë°ì´í„°
  - Item ì •ë³´ í¬í•¨
  - ì¶”ê°€ í•„ë“œ: content, author, tags
  - metadata: í™•ì¥ ê°€ëŠ¥í•œ ì¶”ê°€ ì •ë³´
end note

@enduml

@startuml master-detail-class-optimized
title Master-Detail Pattern - ì„±ëŠ¥ ìµœì í™” ë²„ì „ (Class)

skinparam class {
  BorderColor Black
  ArrowColor Black
}

top to bottom direction

class "index.tsx (ìµœì í™”)" as IndexOpt <<container>> {
  **State**
  ----
  - list: Item[]
  - targetId: string | null
  - error: Error | null
  ====
  **Memoized Values**
  ----
  + target <- useMemo(
      find item from list where item.id matches targetId
      dependencies: [list, targetId]
    )
  ====
  **Callbacks**
  ----
  + handleChangeTarget <- useCallback(
      (item: Item) -> setTargetId(item.id)
      dependencies: []
    )
  ====
  **ìµœì í™” í¬ì¸íŠ¸**
  ----
  1. target ê°ì²´ ëŒ€ì‹  targetId ì €ì¥
     â†’ targetì€ ê³„ì‚°ëœ ê°’(useMemo)
  2. handleChangeTargetì„ useCallbackìœ¼ë¡œ
     â†’ ìì‹ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
}

class "a` Component (ìµœì í™”)" as SummaryOpt <<presentation>> {
  **Props**
  ----
  - list: Item[]
  - selectedId: string | null
  - onChangeTarget: (item: Item) -> void
  ====
  **Memoization**
  ----
  export default React.memo(Summary,
    (prev, next) ->
      prev.list is next.list AND
      prev.selectedId is next.selectedId
  )
  ====
  **Virtual Scrolling**
  ----
  - ëŒ€ëŸ‰ ë°ì´í„°(1000+)ì¼ ê²½ìš°
  - react-window ë˜ëŠ” react-virtualized ì‚¬ìš©
  ====
  **ìµœì í™” í¬ì¸íŠ¸**
  ----
  1. React.memoë¡œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
  2. ê°€ìƒ ìŠ¤í¬ë¡¤ë§ìœ¼ë¡œ ë Œë”ë§ ì„±ëŠ¥ ê°œì„ 
  3. ê°œë³„ ListItemë„ React.memo ì ìš©
}

class "b` Component (ìµœì í™”)" as DetailOpt <<presentation>> {
  **Props**
  ----
  - target: Item | null
  ====
  **State**
  ----
  - detailData: DetailData | null
  - isLoading: boolean
  ====
  **Effects (ê°œì„ )**
  ----
  + useEffect(()
      if (!target) return

      ì´ì „ IDì™€ ë™ì¼í•˜ë©´ ìŠ¤í‚µ
      if (prevIdRef.current is target.id)
        return

      prevIdRef.current <- target.id
      fetchDetail(target.id)
    , dependencies: [target?.id])
  ====
  **ìµœì í™” í¬ì¸íŠ¸**
  ----
  1. target.idë§Œ ì˜ì¡´ì„±ì— ì¶”ê°€
     â†’ target ê°ì²´ ì°¸ì¡° ë³€ê²½ì— ë‘”ê°
  2. prevIdRefë¡œ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
  3. AbortControllerë¡œ ìš”ì²­ ì·¨ì†Œ êµ¬í˜„
}

IndexOpt "1" *-- "1" SummaryOpt
IndexOpt "1" *-- "1" DetailOpt

note bottom of IndexOpt
  **ì„±ëŠ¥ ê°œì„  Before/After**

  [Before]
  - target: Item | null ì§ì ‘ ì €ì¥
  - target ê°ì²´ ì°¸ì¡° ë³€ê²½ ì‹œë§ˆë‹¤ Detail ë¦¬ë Œë”ë§
  - handleChangeTarget ë§¤ë²ˆ ì¬ìƒì„±

  [After]
  - targetId: string | null ì €ì¥
  - targetì€ useMemoë¡œ ê³„ì‚°
  - handleChangeTargetì€ useCallback
  â†’ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ 50% ê°ì†Œ
end note

note bottom of DetailOpt
  **AbortController ì˜ˆì‹œ**

  useEffect(() => {
    const controller = new AbortController();

    fetchDetail(target.id, {
      signal: controller.signal
    });

    return () => controller.abort();
  }, [target?.id]);

  â†’ ë¹ ë¥´ê²Œ í•­ëª© ë³€ê²½ ì‹œ ì´ì „ ìš”ì²­ ì·¨ì†Œ
end note

@enduml

@startuml master-detail-class-relationships
title Master-Detail Pattern - ì»´í¬ë„ŒíŠ¸ ê´€ê³„ë„ (Class)

skinparam class {
  BorderColor Black
  ArrowColor Black
}

' ìƒìœ„ ë ˆë²¨ ì»´í¬ë„ŒíŠ¸
class "App" as App <<root>> {
  + render()
}

class "DashboardPage" as Dashboard <<page>> {
  - currentSection: string
  + switchSection(section): void
}

' Master-Detail ì»´í¬ë„ŒíŠ¸ë“¤
class "index.tsx" as Index <<container>> {
  - list: Item[]
  - target: Item | null
  + handleChangeTarget(item): void
}

class "a` Summary" as Summary <<presentation>> {
  + props: SummaryProps
}

class "b` Detail" as Detail <<presentation>> {
  + props: DetailProps
  - detailData: DetailData | null
}

' í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤
class "ListItem" as ListItem <<atom>> {
  + id: string
  + title: string
  + isActive: boolean
  + onClick: () -> void
}

class "DetailHeader" as DetailHeader <<molecule>> {
  + title: string
  + author: string
}

class "DetailContent" as DetailContent <<molecule>> {
  + content: string
  + tags: string[]
}

' ê´€ê³„ ì •ì˜
App *-- Dashboard : contains
Dashboard *-- Index : contains

Index *-- Summary : renders
Index *-- Detail : renders

Summary *-- ListItem : renders multiple
Detail *-- DetailHeader : renders
Detail *-- DetailContent : renders

Summary ..> Index : calls onChangeTarget
Index ..> Summary : passes list, callbacks
Index ..> Detail : passes target

note right of App
  **ê³„ì¸µ êµ¬ì¡°**

  App (ì „ì²´ ì•±)
  â””â”€ DashboardPage (í˜ì´ì§€)
     â””â”€ index.tsx (ì»¨í…Œì´ë„ˆ)
        â”œâ”€ Summary (ëª©ë¡)
        â”‚  â””â”€ ListItem (ê°œë³„ í•­ëª©)
        â””â”€ Detail (ìƒì„¸)
           â”œâ”€ DetailHeader (í—¤ë”)
           â””â”€ DetailContent (ë³¸ë¬¸)
end note

note bottom of Index
  **Container/Presentation íŒ¨í„´**

  Container (index.tsx):
  - ë°ì´í„° fetching
  - ìƒíƒœ ê´€ë¦¬
  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

  Presentation (Summary, Detail):
  - UI ë Œë”ë§ë§Œ
  - Propsë¡œ ë°›ì€ ë°ì´í„° í‘œì‹œ
  - ì´ë²¤íŠ¸ëŠ” ì½œë°±ìœ¼ë¡œ ì „ë‹¬
end note

@enduml

/'
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“š Class Diagram ì‚¬ìš© ê°€ì´ë“œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ì–¸ì œ Class Diagramì„ ì„ íƒí•´ì•¼ í•˜ëŠ”ê°€?

âœ… **ì„ íƒí•´ì•¼ í•  ë•Œ:**
1. ì»´í¬ë„ŒíŠ¸ì˜ Props/State êµ¬ì¡°ë¥¼ ë¬¸ì„œí™”í•  ë•Œ
2. TypeScript interface ì„¤ê³„ë¥¼ ì‹œê°í™”í•  ë•Œ
3. ì»´í¬ë„ŒíŠ¸ ê°„ ê´€ê³„(ì†Œìœ , ì˜ì¡´ì„±)ë¥¼ ë³´ì—¬ì¤„ ë•Œ
4. ë©”ì„œë“œ/í•¨ìˆ˜ ëª©ë¡ì„ ì •ë¦¬í•  ë•Œ
5. ë¦¬íŒ©í† ë§ ì „/í›„ êµ¬ì¡° ë¹„êµ

âŒ **ì„ íƒí•˜ì§€ ë§ì•„ì•¼ í•  ë•Œ:**
1. ì‚¬ìš©ì ì¸í„°ë™ì…˜ íë¦„ì„ ë³´ì—¬ì¤„ ë•Œ â†’ Sequence Diagram
2. ì‹œê°„ ìˆœì„œê°€ ì¤‘ìš”í•œ ê²½ìš° â†’ Sequence Diagram
3. ë³µì¡í•œ ì¡°ê±´ ë¶„ê¸°ë¥¼ í‘œí˜„í•  ë•Œ â†’ Activity Diagram
4. ë¬¼ë¦¬ì  íŒŒì¼ êµ¬ì¡°ë¥¼ ë³´ì—¬ì¤„ ë•Œ â†’ Component Diagram

## Class Diagramì˜ í•µì‹¬ ìš”ì†Œ

### 1. Class ì •ì˜
```plantuml
class ComponentName {
  **Props**
  ----
  - propName: Type
  ====
  **State**
  ----
  - stateName: Type
  ====
  **Methods**
  ----
  + methodName(): ReturnType
}
```

### 2. ê´€ê³„ í‘œí˜„
```plantuml
A *-- B : ì†Œìœ  (Composition)
A o-- B : ì§‘í•© (Aggregation)
A --> B : ì˜ì¡´ (Dependency)
A ..> B : ì‚¬ìš© (Usage)
A --|> B : ìƒì† (Inheritance)
```

### 3. ì ‘ê·¼ ì œì–´ì
```plantuml
+ public
- private
# protected
~ package
```

### 4. Stereotype (ìŠ¤í…Œë ˆì˜¤íƒ€ì…)
```plantuml
<<container>>     // ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸
<<presentation>>  // í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸
<<hook>>          // Custom Hook
<<type>>          // TypeScript Type
```

## ì‹¤ì „ íŒ

### 1. TypeScript ì½”ë“œì™€ 1:1 ë§¤ì¹­
Class Diagramì„ ë³´ê³  ë°”ë¡œ TypeScript ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„

```typescript
// Class Diagramì—ì„œ
class Summary {
  + props: SummaryProps
}

// TypeScript ì½”ë“œë¡œ
const Summary: React.FC<SummaryProps> = (props) => {
  // ...
};
```

### 2. Props vs State ëª…í™•íˆ êµ¬ë¶„
- Props: ë¶€ëª¨ë¡œë¶€í„° ë°›ëŠ” ë°ì´í„° (ì½ê¸° ì „ìš©)
- State: ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë°ì´í„° (ë³€ê²½ ê°€ëŠ¥)

### 3. ê´€ê³„ í™”ì‚´í‘œ ë°©í–¥
- ë°ì´í„° íë¦„: ë¶€ëª¨ â†’ ìì‹ (ì•„ë˜ ë°©í–¥)
- ì½œë°± í˜¸ì¶œ: ìì‹ â†’ ë¶€ëª¨ (ìœ„ ë°©í–¥, ì ì„ )

### 4. ìµœì í™” í‘œí˜„
- useMemo, useCallbackì€ "Memoized Values" ì„¹ì…˜ì—
- React.memoëŠ” "Memoization" ì„¹ì…˜ì— ëª…ì‹œ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
'/
