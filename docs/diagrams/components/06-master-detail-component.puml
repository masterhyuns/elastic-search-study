/'
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Master-Detail Pattern - Component Diagram (ì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ê°œìš”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ë¬¼ë¦¬ì  íŒŒì¼/í´ë” êµ¬ì¡°ì™€ ëª¨ë“ˆ ê°„ ì˜ì¡´ì„±ì„ í‘œí˜„í•©ë‹ˆë‹¤.
"ì–´ë””ì— íŒŒì¼ì´ ìœ„ì¹˜í•˜ëŠ”ê°€?"ë¥¼ ì´í•´í•˜ê¸° ê°€ì¥ ì¢‹ì€ ë‹¤ì´ì–´ê·¸ë¨ì…ë‹ˆë‹¤.

ğŸ¯ ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ê°€?
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡°
âœ… íŒŒì¼ ë°°ì¹˜ (index.tsx, components, hooks)
âœ… ëª¨ë“ˆ ê°„ ì˜ì¡´ì„±
âœ… ë¹Œë“œ ê²°ê³¼ë¬¼ êµ¬ì¡°
âœ… ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

ì¥ì :
- í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ì§ê´€ì ìœ¼ë¡œ ì‹œê°í™”
- ì‹ ê·œ ê°œë°œìê°€ ì½”ë“œ ìœ„ì¹˜ë¥¼ ì‰½ê²Œ íŒŒì•…
- ëª¨ë“ˆ ì˜ì¡´ì„± ê´€ë¦¬ ìš©ì´

ë‹¨ì :
- ë™ì‘/íë¦„ í‘œí˜„ ë¶ˆê°€
- Props/State ê°™ì€ ìƒì„¸ êµ¬ì¡° í‘œí˜„ ì–´ë ¤ì›€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
'/

@startuml master-detail-component-structure
title Master-Detail Pattern - í´ë” êµ¬ì¡° (Component)

skinparam component {
  BorderColor Black
  ArrowColor Black
}

top to bottom direction

package "A ì»´í¬ë„ŒíŠ¸ í´ë”" {
  component "index.tsx\n(Container)" as Index <<entry>>

  note right of Index
    **ì—­í• : ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸**
    - ë°ì´í„° fetching
    - ìƒíƒœ ê´€ë¦¬ (list, target)
    - ìì‹ ì»´í¬ë„ŒíŠ¸ ì¡°ìœ¨

    **ì½”ë“œ ì˜ˆì‹œ:**
    export const A = function() {
      const [list, setList] <- useState([])
      const [target, setTarget] <- useState(null)

      return (
        <Summary list={list} onChangeTarget={setTarget} />
        <Detail target={target} />
      )
    }
  end note

  component "Summary.tsx\n(a` ì»´í¬ë„ŒíŠ¸)" as Summary <<presentation>>

  note right of Summary
    **ì—­í• : ëª©ë¡ ë Œë”ë§**
    - Props: list, onChangeTarget
    - UI: í•­ëª© ëª©ë¡ í‘œì‹œ
    - ì´ë²¤íŠ¸: í´ë¦­ ì‹œ onChangeTarget í˜¸ì¶œ

    **íŒŒì¼ ìœ„ì¹˜:**
    A/Summary.tsx
  end note

  component "Detail.tsx\n(b` ì»´í¬ë„ŒíŠ¸)" as Detail <<presentation>>

  note right of Detail
    **ì—­í• : ìƒì„¸ ì •ë³´ í‘œì‹œ**
    - Props: target
    - State: detailData, isLoading
    - API: target ë³€ê²½ ì‹œ ìƒì„¸ ì¡°íšŒ

    **íŒŒì¼ ìœ„ì¹˜:**
    A/Detail.tsx
  end note

  component "types.ts" as Types <<type>>

  note right of Types
    **íƒ€ì… ì •ì˜**
    - interface Item
    - interface DetailData
    - interface SummaryProps
    - interface DetailProps

    **íŒŒì¼ ìœ„ì¹˜:**
    A/types.ts
  end note

  package "hooks/" {
    component "useItemList.ts" as UseList <<hook>>
    component "useItemDetail.ts" as UseDetail <<hook>>
  }

  note bottom of UseList
    **Custom Hook: ëª©ë¡ ì¡°íšŒ**
    export const useItemList = function() {
      const [list, setList] <- useState([])
      const [isLoading, setIsLoading] <- useState(false)

      useEffect(function() {
        fetchList().then(setList)
      }, [])

      return { list, isLoading }
    }
  end note

  note bottom of UseDetail
    **Custom Hook: ìƒì„¸ ì¡°íšŒ**
    export const useItemDetail = function(itemId) {
      const [detail, setDetail] <- useState(null)

      useEffect(function() {
        if (itemId) then
          fetchDetail(itemId).then(setDetail)
        end if
      }, [itemId])

      return { detail }
    }
  end note
}

Index --> Summary : imports & renders
Index --> Detail : imports & renders
Index --> Types : imports types
Index --> UseList : uses hook
Detail --> UseDetail : uses hook
Summary --> Types : imports SummaryProps
Detail --> Types : imports DetailProps
UseList --> Types : imports Item
UseDetail --> Types : imports DetailData

note bottom of Index
  **ì˜ì¡´ì„± ë°©í–¥**
  - index.tsxê°€ ëª¨ë“  í•˜ìœ„ ëª¨ë“ˆ import
  - Summary, Detailì€ ì„œë¡œ ëª¨ë¦„ (ë…ë¦½ì )
  - types.tsëŠ” ê³µí†µ íƒ€ì… ì •ì˜
  - hooks/ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§
end note

@enduml

@startuml master-detail-component-full-project
title Master-Detail Pattern - ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡° (Component)

skinparam component {
  BorderColor Black
  ArrowColor Black
}

left to right direction

package "src/" {

  package "pages/" {
    component "Dashboard.tsx" as Dashboard <<page>>
  }

  package "components/" {
    package "A/" {
      component "index.tsx" as AIndex
      component "Summary.tsx" as ASummary
      component "Detail.tsx" as ADetail
      component "types.ts" as ATypes

      package "hooks/" {
        component "useItemList.ts" as AUseList
        component "useItemDetail.ts" as AUseDetail
      }
    }

    package "common/" {
      component "Button.tsx" as Button
      component "Input.tsx" as Input
      component "Spinner.tsx" as Spinner
    }
  }

  package "api/" {
    component "items.ts" as ItemsAPI <<api>>
  }

  package "types/" {
    component "common.ts" as CommonTypes <<type>>
  }
}

Dashboard --> AIndex : uses
AIndex --> ASummary
AIndex --> ADetail
AIndex --> ATypes
AIndex --> AUseList
ADetail --> AUseDetail
ADetail --> Spinner

ASummary --> Button
ADetail --> Button
ADetail --> Input

AUseList --> ItemsAPI : calls
AUseDetail --> ItemsAPI : calls

ATypes --> CommonTypes : extends

note right of Dashboard
  **í˜ì´ì§€ ë ˆë²¨**
  - ë¼ìš°íŒ… ì§„ì…ì 
  - ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ ì¡°í•©
end note

note right of AIndex
  **Master-Detail ì§„ì…ì **
  - ì»¨í…Œì´ë„ˆ ì—­í• 
  - ìƒíƒœ ê´€ë¦¬
end note

note right of ItemsAPI
  **API ë ˆì´ì–´**
  export const fetchItems = async function() {
    return axios.get('/api/items')
  }

  export const fetchItemDetail = async function(id) {
    return axios.get('/api/items/' + id)
  }
end note

note bottom of CommonTypes
  **ê³µí†µ íƒ€ì…**
  - User, Error, ApiResponse
  - í”„ë¡œì íŠ¸ ì „ì—­ì—ì„œ ì‚¬ìš©
end note

@enduml

@startuml master-detail-component-deployment
title Master-Detail Pattern - ë°°í¬ êµ¬ì¡° (Component)

skinparam component {
  BorderColor Black
  ArrowColor Black
}

node "Browser" {
  component "React App\n(SPA)" as App
}

node "CDN" {
  component "Static Assets" as Assets
}

node "API Server" {
  component "REST API" as API
}

database "Database" {
  component "PostgreSQL" as DB
}

App --> Assets : GET /static/js/main.js
App --> API : GET /api/items
API --> DB : SELECT * FROM items

note right of Assets
  **ë¹Œë“œ ê²°ê³¼ë¬¼**
  - main.js (ë²ˆë“¤ë§ëœ React ì½”ë“œ)
  - main.css
  - chunks/ (ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…)
end note

note right of API
  **ì—”ë“œí¬ì¸íŠ¸**
  - GET /api/items
  - GET /api/items/:id/detail
  - PUT /api/items/:id
end note

@enduml

@startuml master-detail-component-lazy-loading
title Master-Detail Pattern - ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… (Component)

skinparam component {
  BorderColor Black
  ArrowColor Black
}

left to right direction

component "main.js\n(Entry Bundle)" as Main <<bundle>>

component "A-lazy.chunk.js\n(Master-Detail)" as AChunk <<lazy>>

component "Dashboard.chunk.js\n(Dashboard Page)" as DashboardChunk <<lazy>>

component "common.chunk.js\n(ê³µí†µ ì»´í¬ë„ŒíŠ¸)" as CommonChunk <<shared>>

Main ..> AChunk : lazy import
Main ..> DashboardChunk : lazy import

AChunk --> CommonChunk : uses
DashboardChunk --> CommonChunk : uses

note right of Main
  **ì´ˆê¸° ë¡œë”© ë²ˆë“¤**
  - React, ReactDOM
  - Router
  - ê³µí†µ ì„¤ì •

  í¬ê¸°: ~200KB (gzip)
end note

note right of AChunk
  **Lazy ë¡œë”©**
  const A = lazy(function() {
    return import('./components/A')
  })

  <Suspense fallback={<Spinner />}>
    <A />
  </Suspense>

  í¬ê¸°: ~50KB (gzip)
  ë¡œë”©: ì‚¬ìš©ìê°€ í˜ì´ì§€ ì ‘ê·¼ ì‹œ
end note

note right of CommonChunk
  **ê³µìœ  ì²­í¬**
  - Button, Input, Spinner
  - ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ê³µí†µ ì‚¬ìš©
  - ìºì‹± íš¨ìœ¨ â†‘

  í¬ê¸°: ~30KB (gzip)
end note

@enduml

@startuml master-detail-component-micro-frontend
title Master-Detail Pattern - ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ (Component)

skinparam component {
  BorderColor Black
  ArrowColor Black
}

component "Shell App\n(Container)" as Shell <<host>>

component "Master-Detail Module\n(Remote)" as MasterDetailModule <<remote>>

component "User Profile Module\n(Remote)" as UserModule <<remote>>

component "Analytics Module\n(Remote)" as AnalyticsModule <<remote>>

Shell ..> MasterDetailModule : loads dynamically
Shell ..> UserModule : loads dynamically
Shell ..> AnalyticsModule : loads dynamically

note right of Shell
  **Host Application**
  - Webpack Module Federation
  - ë¼ìš°íŒ… ë° ë ˆì´ì•„ì›ƒ
  - ê³µí†µ ìƒíƒœ ê´€ë¦¬

  **ì„¤ì •:**
  module.exports = {
    plugins: [
      new ModuleFederationPlugin({
        name: 'shell',
        remotes: {
          masterDetail: 'masterDetail@.../remoteEntry.js',
          userProfile: 'userProfile@.../remoteEntry.js'
        }
      })
    ]
  };
end note

note right of MasterDetailModule
  **Remote Module**
  - ë…ë¦½ì ìœ¼ë¡œ ë°°í¬
  - ë…ë¦½ì ì¸ package.json
  - ë…ë¦½ì ì¸ ë¹Œë“œ íŒŒì´í”„ë¼ì¸

  **ì„¤ì •:**
  module.exports = {
    plugins: [
      new ModuleFederationPlugin({
        name: 'masterDetail',
        filename: 'remoteEntry.js',
        exposes: {
          './MasterDetail': './src/components/A'
        }
      })
    ]
  };
end note

@enduml

/'
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“š Component Diagram ì‚¬ìš© ê°€ì´ë“œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ì–¸ì œ Component Diagramì„ ì„ íƒí•´ì•¼ í•˜ëŠ”ê°€?

âœ… **ì„ íƒí•´ì•¼ í•  ë•Œ:**
1. í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡°ë¥¼ ë¬¸ì„œí™”í•  ë•Œ
2. ì‹ ê·œ ê°œë°œì ì˜¨ë³´ë”© ìë£Œ
3. ëª¨ë“ˆ ê°„ ì˜ì¡´ì„±ì„ ì‹œê°í™”í•  ë•Œ
4. ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜ ì„¤ê³„
5. ë¹Œë“œ/ë°°í¬ êµ¬ì¡° ì„¤ëª…

âŒ **ì„ íƒí•˜ì§€ ë§ì•„ì•¼ í•  ë•Œ:**
1. Props/State êµ¬ì¡°ë¥¼ ë³´ì—¬ì¤„ ë•Œ â†’ Class Diagram
2. ì‚¬ìš©ì ì¸í„°ë™ì…˜ íë¦„ â†’ Sequence Diagram
3. ì•Œê³ ë¦¬ì¦˜/ë¡œì§ íë¦„ â†’ Activity Diagram
4. íƒ€ì… ì •ì˜ â†’ Class Diagram

## Component Diagramì˜ í•µì‹¬ ìš”ì†Œ

### 1. Component (ì»´í¬ë„ŒíŠ¸)
component "ComponentName" as Alias <<stereotype>>
[ComponentName]  // ê°„ë‹¨í•œ í‘œê¸°ë²•

### 2. Package (íŒ¨í‚¤ì§€)
package "folder/" {
  component "file.tsx"
}

### 3. Node (ë…¸ë“œ/ì„œë²„)
node "Server" {
  component "API"
}

### 4. ì˜ì¡´ì„± í™”ì‚´í‘œ
A --> B : imports
A ..> B : uses (ì•½í•œ ì˜ì¡´ì„±)

### 5. Stereotype (ì—­í•  í‘œì‹œ)
<<entry>>         // ì§„ì…ì 
<<presentation>>  // í”„ë ˆì  í…Œì´ì…˜
<<api>>          // API ë ˆì´ì–´
<<type>>         // íƒ€ì… ì •ì˜
<<hook>>         // Custom Hook
<<bundle>>       // ë²ˆë“¤ íŒŒì¼
<<lazy>>         // Lazy ë¡œë”©
<<remote>>       // ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ

## ì‹¤ì „ íŒ

### 1. í´ë” êµ¬ì¡° í‘œí˜„
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ A/
â”‚       â”œâ”€â”€ index.tsx        â† Container
â”‚       â”œâ”€â”€ Summary.tsx      â† Presentation
â”‚       â”œâ”€â”€ Detail.tsx       â† Presentation
â”‚       â”œâ”€â”€ types.ts         â† Types
â”‚       â””â”€â”€ hooks/
â”‚           â”œâ”€â”€ useItemList.ts
â”‚           â””â”€â”€ useItemDetail.ts

ìœ„ êµ¬ì¡°ë¥¼ Component Diagramìœ¼ë¡œ í‘œí˜„í•˜ë©´:
- packageë¡œ í´ë” í‘œí˜„
- componentë¡œ íŒŒì¼ í‘œí˜„
- í™”ì‚´í‘œë¡œ import ê´€ê³„ í‘œí˜„

### 2. ì˜ì¡´ì„± ë°©í–¥ ê·œì¹™
- ìƒìœ„ â†’ í•˜ìœ„: index.tsx â†’ Summary.tsx âœ…
- í•˜ìœ„ â†’ ìƒìœ„: Summary.tsx â†’ index.tsx âŒ (ì—­ë°©í–¥ ì˜ì¡´ í”¼í•˜ê¸°)
- í˜•ì œ â†’ í˜•ì œ: Summary.tsx â†’ Detail.tsx âŒ (ì§ì ‘ ì˜ì¡´ í”¼í•˜ê¸°)

### 3. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… í‘œí˜„
- main.js: <<bundle>>
- lazy ì²­í¬: <<lazy>>
- ê³µìœ  ì²­í¬: <<shared>>

### 4. ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ
- Host App: <<host>>
- Remote Module: <<remote>>
- ë™ì  ë¡œë”©: ì ì„  í™”ì‚´í‘œ (..>)

## í´ë” êµ¬ì¡° ê¶Œì¥ì‚¬í•­

A/
â”œâ”€â”€ index.tsx              # ì»¨í…Œì´ë„ˆ (ì§„ì…ì )
â”œâ”€â”€ Summary.tsx            # a` ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ Detail.tsx             # b` ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ types.ts               # íƒ€ì… ì •ì˜
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useItemList.ts     # ëª©ë¡ ì¡°íšŒ í›…
â”‚   â””â”€â”€ useItemDetail.ts   # ìƒì„¸ ì¡°íšŒ í›…
â””â”€â”€ __tests__/
    â”œâ”€â”€ index.test.tsx
    â”œâ”€â”€ Summary.test.tsx
    â””â”€â”€ Detail.test.tsx

**ì¥ì :**
- ëª¨ë“  ê´€ë ¨ íŒŒì¼ì´ í•œ í´ë”ì— ëª¨ì„
- import ê²½ë¡œê°€ ì§§ìŒ (../../../ ë°©ì§€)
- ì¬ì‚¬ìš© ì‹œ í´ë”ì§¸ ë³µì‚¬ ê°€ëŠ¥

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
'/
