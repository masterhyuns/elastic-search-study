# ⚠️ React Router v7 업데이트 안내

## 중요 공지

이 학습 자료는 **Remix v2** 기반으로 작성되었습니다.

**2024년 12월**, React Router v7이 릴리즈되면서 Remix와 통합되었습니다. 이로 인해 일부 API와 접근 방식이 변경되었습니다.

---

## 🆕 React Router v7의 주요 변경사항

### 1. 프로젝트 생성 방식 변경

```bash
# ❌ 기존 Remix v2
pnpm create remix@latest

# ✅ React Router v7 (새로운 방식)
pnpm create react-router@latest
```

### 2. Vite 기반 빌드 시스템

React Router v7은 기본적으로 **Vite**를 사용합니다.

```typescript
// vite.config.ts
import { reactRouter } from "@react-router/dev/vite";
import { defineConfig } from "vite";

export default defineConfig({
  plugins: [reactRouter()],
});
```

### 3. 패키지 이름 변경

```json
{
  "dependencies": {
    // ❌ 기존
    "@remix-run/react": "^2.0.0",
    "@remix-run/node": "^2.0.0",

    // ✅ React Router v7
    "react-router": "^7.0.0"
  }
}
```

### 4. Import 경로 변경

```typescript
// ❌ 기존 Remix v2
import { json, redirect } from "@remix-run/node";
import { Form, useLoaderData } from "@remix-run/react";

// ✅ React Router v7
import { data, redirect } from "react-router";
import { Form, useLoaderData } from "react-router";
```

### 5. 주요 API 변경

#### json() → data()

```typescript
// ❌ Remix v2
export const loader = async () => {
  return json({ message: "Hello" });
};

// ✅ React Router v7
export const loader = async () => {
  return data({ message: "Hello" });
};
```

#### 타입 안정성 개선

```typescript
// React Router v7은 더 강력한 타입 추론 제공
import type { Route } from "./+types/posts.$postId";

export const loader = async ({ params }: Route.LoaderArgs) => {
  // params는 자동으로 { postId: string } 타입 추론
  return data({ post: await getPost(params.postId) });
};

export default function Post({ loaderData }: Route.ComponentProps) {
  // loaderData 타입 자동 추론!
  return <div>{loaderData.post.title}</div>;
}
```

---

## 📋 현재 문서의 호환성

### ✅ 여전히 유효한 개념
- **라우팅 시스템**: 파일 기반 라우팅, 중첩 라우팅 개념은 동일
- **loader/action 패턴**: 핵심 개념은 동일 (API만 약간 변경)
- **Form 컴포넌트**: 동일하게 작동
- **useFetcher**: 동일하게 작동
- **ErrorBoundary**: 동일
- **Meta/Links**: 개념 동일

### ⚠️ 업데이트 필요한 부분
- **패키지 import 경로**: `@remix-run/*` → `react-router`
- **json() 헬퍼**: `json()` → `data()`
- **타입 정의**: 새로운 타입 시스템
- **프로젝트 설정**: `remix.config.js` → `vite.config.ts`

---

## 🎯 학습 가이드 활용 방법

### 옵션 1: Remix v2로 학습 (권장)
현재 문서 그대로 학습하시고, 개념을 익힌 후 React Router v7으로 마이그레이션

**장점**:
- 안정적인 버전으로 학습
- 더 많은 학습 자료와 예제
- 개념은 동일하므로 마이그레이션 쉬움

### 옵션 2: React Router v7로 바로 시작
최신 버전으로 바로 시작

**필요한 변경**:
```bash
# 1. 프로젝트 생성
pnpm create react-router@latest my-app

# 2. import 경로 변경
# @remix-run/react → react-router
# @remix-run/node → react-router

# 3. json() → data() 변경
```

---

## 🔄 마이그레이션 가이드 (간단)

### 1. 패키지 업데이트
```bash
pnpm remove @remix-run/react @remix-run/node @remix-run/dev
pnpm add react-router@latest
pnpm add -D @react-router/dev vite
```

### 2. 설정 파일 변경
```typescript
// vite.config.ts 생성
import { reactRouter } from "@react-router/dev/vite";
import { defineConfig } from "vite";

export default defineConfig({
  plugins: [reactRouter()],
});
```

### 3. 코드 변경 (자동화 가능)
```bash
# import 경로 일괄 변경 (VS Code)
# @remix-run/react → react-router
# @remix-run/node → react-router

# json → data 변경
```

---

## 📚 최신 공식 문서

- **React Router v7**: https://reactrouter.com/start/framework/installation
- **Remix → React Router 마이그레이션**: https://reactrouter.com/upgrading/remix
- **타입 안정성**: https://reactrouter.com/start/framework/type-safety

---

## 💡 추천 학습 경로

1. **현재 문서로 개념 학습** (1-3주)
   - 라우팅, loader/action, Form 등 핵심 개념
   - 개념은 React Router v7과 동일

2. **공식 문서로 최신 API 확인** (1주)
   - import 경로 변경
   - 새로운 타입 시스템
   - Vite 설정

3. **실전 프로젝트** (1-2주)
   - React Router v7로 새 프로젝트 시작
   - 학습한 개념 적용

---

## 🔮 향후 업데이트 계획

이 학습 자료를 **React Router v7** 기반으로 업데이트할 예정입니다:

- [ ] 패키지 import 경로 업데이트
- [ ] 새로운 타입 시스템 반영
- [ ] Vite 설정 가이드 추가
- [ ] 최신 예제 코드로 교체

---

**결론**: 현재 문서의 **핵심 개념과 패턴은 여전히 유효**합니다! API 이름만 약간 변경되었을 뿐, 사고방식과 아키텍처는 동일합니다. 🎯

**질문이나 최신 정보가 필요하시면 언제든 말씀해주세요!**
